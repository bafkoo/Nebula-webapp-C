# üí¨ CHAT SYSTEM ROADMAP - NEBULA CHAT PROJECT

## üîç –ê–ù–ê–õ–ò–ó BACKEND –ê–†–•–ò–¢–ï–ö–¢–£–†–´

### üèóÔ∏è **–¢–µ–∫—É—â–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (.NET 9.0):**

**‚úÖ –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- **Clean Architecture** - 4 —Å–ª–æ—è (API, Application, Domain, Infrastructure)
- **PostgreSQL** –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å Entity Framework Core
- **JWT Authentication** —Å refresh —Ç–æ–∫–µ–Ω–∞–º–∏
- **OAuth –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã** (Google, GitHub) 
- **Email —Å–∏—Å—Ç–µ–º–∞** (Resend API)
- **BCrypt** —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
- **CORS** –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è frontend

**‚úÖ –ì–æ—Ç–æ–≤–∞—è User —Å–∏—Å—Ç–µ–º–∞:**
```csharp
User Entity:
- Id (Guid), Username, Email, PasswordHash
- OAuth –ø–æ–ª—è: GoogleId, GitHubId, AppleId
- Email –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è: IsEmailVerified, EmailVerifiedAt
- –¢–æ–∫–µ–Ω—ã: EmailVerificationToken, PasswordResetToken
- Timestamps: CreatedAt, UpdatedAt, LastLoginAt
- AvatarUrl –¥–ª—è –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

**üîß –ü–∞–∫–µ—Ç—ã –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è:**
- **SignalR** –¥–ª—è real-time —á–∞—Ç–æ–≤ 
- **AutoMapper** –¥–ª—è –º–∞–ø–ø–∏–Ω–≥–∞ DTOs
- **FluentValidation** –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- **Serilog** –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- **Redis** –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## üöÄ ROADMAP: –ß–ê–¢ –°–ò–°–¢–ï–ú–ê

### üìä **–ü–†–û–ì–†–ï–°–° –¢–†–ï–ö–ò–ù–ì:**
- ‚è≥ –í –ø—Ä–æ—Ü–µ—Å—Å–µ
- ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ  
- ‚ùå –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ

---

## üéØ **–≠–¢–ê–ü 1: –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –ß–ê–¢–ê (4-5 —á–∞—Å–æ–≤)**

### **1.1 Backend Domain Models** ‚è≥
**–í—Ä–µ–º—è:** 1.5 —á–∞—Å–∞  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π

**–ó–∞–¥–∞—á–∏:**
- [‚úÖ] –°–æ–∑–¥–∞—Ç—å Chat Entity (Id, Name, Type, CreatedBy, CreatedAt)
- [‚úÖ] –°–æ–∑–¥–∞—Ç—å Message Entity (Id, ChatId, UserId, Content, MessageType, CreatedAt)
- [‚úÖ] –°–æ–∑–¥–∞—Ç—å ChatParticipant Entity (ChatId, UserId, Role, JoinedAt, LastReadAt)
- [‚úÖ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å EF Core –æ—Ç–Ω–æ—à–µ–Ω–∏—è –º–µ–∂–¥—É –º–æ–¥–µ–ª—è–º–∏
- [‚úÖ] –î–æ–±–∞–≤–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –Ω–æ–≤—ã—Ö —Ç–∞–±–ª–∏—Ü

**–§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è:**
```
NebulaChat.Domain/Entities/
‚îú‚îÄ‚îÄ Chat.cs
‚îú‚îÄ‚îÄ Message.cs  
‚îú‚îÄ‚îÄ ChatParticipant.cs
‚îî‚îÄ‚îÄ Enums/
    ‚îú‚îÄ‚îÄ ChatType.cs (Private, Group, Channel)
    ‚îú‚îÄ‚îÄ MessageType.cs (Text, Image, File, System)
    ‚îî‚îÄ‚îÄ ParticipantRole.cs (Member, Admin, Owner)
```

### **1.2 Database Schema Design** ‚úÖ
**–í—Ä–µ–º—è:** 1 —á–∞—Å  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π

**–ó–∞–¥–∞—á–∏:**
- [‚úÖ] –°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è —á–∞—Ç–æ–≤
- [‚úÖ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å cascade —É–¥–∞–ª–µ–Ω–∏–µ –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π
- [‚úÖ] –î–æ–±–∞–≤–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —Ä–∞–∑–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π
- [‚úÖ] –°–æ–∑–¥–∞—Ç—å –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ —á–∞—Ç–∞–º
- [‚úÖ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É soft delete

**‚úÖ –ó–ê–í–ï–†–®–ï–ù–û:**
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –≤—Å–µ—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã composite –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã filtered –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —Ä–∞–∑–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π (2000 —Å–∏–º–≤–æ–ª–æ–≤)
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤ (50MB)
- ‚úÖ Query —Ñ–∏–ª—å—Ç—Ä—ã –¥–ª—è soft delete
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è OptimizeDbSchemaComplete –ø—Ä–∏–º–µ–Ω–µ–Ω–∞

### **1.3 SignalR Integration** ‚è≥  
**–í—Ä–µ–º—è:** 2 —á–∞—Å–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π

**–ó–∞–¥–∞—á–∏:**
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Microsoft.AspNetCore.SignalR –ø–∞–∫–µ—Ç
- [ ] –°–æ–∑–¥–∞—Ç—å ChatHub –¥–ª—è real-time –æ–±—â–µ–Ω–∏—è
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –≤ SignalR
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≥—Ä—É–ø–ø—ã –¥–ª—è —á–∞—Ç –∫–æ–º–Ω–∞—Ç
- [ ] –î–æ–±–∞–≤–∏—Ç—å typing indicators (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—á–∞—Ç–∞–µ—Ç)

**–§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è:**
```
NebulaChat.API/Hubs/
‚îú‚îÄ‚îÄ ChatHub.cs
‚îú‚îÄ‚îÄ IChatHub.cs
‚îî‚îÄ‚îÄ Models/
    ‚îú‚îÄ‚îÄ TypingIndicator.cs
    ‚îî‚îÄ‚îÄ ConnectionMapping.cs
```

### **1.4 Repository Pattern** ‚è≥
**–í—Ä–µ–º—è:** 1 —á–∞—Å
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π

**–ó–∞–¥–∞—á–∏:**
- [ ] –°–æ–∑–¥–∞—Ç—å IChatRepository —Å –±–∞–∑–æ–≤—ã–º–∏ CRUD –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
- [ ] –°–æ–∑–¥–∞—Ç—å IMessageRepository —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω Unit of Work
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —á–∞—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã —Å Include

---

## üí¨ **–≠–¢–ê–ü 2: –ü–†–ò–í–ê–¢–ù–´–ï –ß–ê–¢–´ (5-6 —á–∞—Å–æ–≤)**

### **2.1 Chat API Controllers** ‚è≥
**–í—Ä–µ–º—è:** 2 —á–∞—Å–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π

**–ó–∞–¥–∞—á–∏:**
- [ ] –°–æ–∑–¥–∞—Ç—å ChatController —Å –±–∞–∑–æ–≤—ã–º CRUD
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å GET /api/chats - –ø–æ–ª—É—á–µ–Ω–∏–µ —á–∞—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å POST /api/chats - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —á–∞—Ç–∞
- [ ] –î–æ–±–∞–≤–∏—Ç—å POST /api/chats/{id}/join - –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∫ —á–∞—Ç—É
- [ ] –î–æ–±–∞–≤–∏—Ç—å DELETE /api/chats/{id}/leave - –ø–æ–∫–∏–¥–∞–Ω–∏–µ —á–∞—Ç–∞

**Endpoints —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```csharp
[Route("api/[controller]")]
public class ChatsController : ControllerBase
{
    // GET /api/chats - —Å–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    // POST /api/chats - —Å–æ–∑–¥–∞–Ω–∏–µ —á–∞—Ç–∞  
    // GET /api/chats/{id} - –ø–æ–ª—É—á–µ–Ω–∏–µ —á–∞—Ç–∞ –ø–æ ID
    // POST /api/chats/{id}/join - –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
    // DELETE /api/chats/{id}/leave - –ø–æ–∫–∏–¥–∞–Ω–∏–µ
    // PUT /api/chats/{id}/participants/{userId}/role - –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–∏
}
```

### **2.2 Message API Controllers** ‚è≥
**–í—Ä–µ–º—è:** 2 —á–∞—Å–∞  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π

**–ó–∞–¥–∞—á–∏:**
- [ ] –°–æ–∑–¥–∞—Ç—å MessagesController
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å GET /api/chats/{id}/messages —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å POST /api/chats/{id}/messages - –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
- [ ] –î–æ–±–∞–≤–∏—Ç—å PUT /api/messages/{id} - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- [ ] –î–æ–±–∞–≤–∏—Ç—å DELETE /api/messages/{id} - —É–¥–∞–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å POST /api/messages/{id}/read - –æ—Ç–º–µ—Ç–∫–∞ –∫–∞–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–æ–µ

### **2.3 Real-time Messaging** ‚è≥
**–í—Ä–µ–º—è:** 2.5 —á–∞—Å–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π

**–ó–∞–¥–∞—á–∏:**
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è SignalR —Å Message Controller
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å broadcast –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –≥—Ä—É–ø–ø—ã
- [ ] –î–æ–±–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–æ—á—Ç–µ–Ω–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å typing indicators
- [ ] –î–æ–±–∞–≤–∏—Ç—å online/offline —Å—Ç–∞—Ç—É—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

### **2.4 DTOs –∏ Validation** ‚è≥
**–í—Ä–µ–º—è:** 1 —á–∞—Å
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π

**–ó–∞–¥–∞—á–∏:**
- [ ] –°–æ–∑–¥–∞—Ç—å ChatDto, MessageDto, ParticipantDto
- [ ] –î–æ–±–∞–≤–∏—Ç—å CreateChatRequest, SendMessageRequest DTOs
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å FluentValidation –¥–ª—è –≤—Å–µ—Ö request DTOs
- [ ] –î–æ–±–∞–≤–∏—Ç—å AutoMapper –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π

**DTOs —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```csharp
NebulaChat.API/DTOs/Chat/
‚îú‚îÄ‚îÄ ChatDto.cs
‚îú‚îÄ‚îÄ MessageDto.cs
‚îú‚îÄ‚îÄ ParticipantDto.cs
‚îú‚îÄ‚îÄ CreateChatRequest.cs
‚îú‚îÄ‚îÄ SendMessageRequest.cs
‚îî‚îÄ‚îÄ ChatListResponse.cs
```

---

## üë• **–≠–¢–ê–ü 3: –ì–†–£–ü–ü–û–í–´–ï –ß–ê–¢–´ (4-5 —á–∞—Å–æ–≤)**

### **3.1 Group Chat Features** ‚è≥
**–í—Ä–µ–º—è:** 2 —á–∞—Å–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π

**–ó–∞–¥–∞—á–∏:**
- [ ] –†–∞—Å—à–∏—Ä–∏—Ç—å Chat Entity –¥–ª—è –≥—Ä—É–ø–ø—ã (MaxParticipants, Description)
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–æ–ª–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (Owner, Admin, Member)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (–∫—Ç–æ –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤)
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≥—Ä—É–ø–ø–æ–≤—ã–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è
- [ ] –î–æ–±–∞–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≥—Ä—É–ø–ø—ã (–∞–≤–∞—Ç–∞—Ä, –æ–ø–∏—Å–∞–Ω–∏–µ)

### **3.2 Admin Features** ‚è≥
**–í—Ä–µ–º—è:** 1.5 —á–∞—Å–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π

**–ó–∞–¥–∞—á–∏:**
- [ ] Kick/Ban —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∏–∑ –≥—Ä—É–ø–ø—ã
- [ ] –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–µ–π —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≥—Ä—É–ø–ø—ã (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤)
- [ ] –ú–æ–¥–µ—Ä–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π

### **3.3 Group Management UI Logic** ‚è≥
**–í—Ä–µ–º—è:** 2 —á–∞—Å–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π

**–ó–∞–¥–∞—á–∏:**
- [ ] API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ –≥—Ä—É–ø–ø—ã
- [ ] –ü–æ–∏—Å–∫ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- [ ] –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å —Ä–æ–ª—è–º–∏
- [ ] –ò—Å—Ç–æ—Ä–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
- [ ] –≠–∫—Å–ø–æ—Ä—Ç —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≥—Ä—É–ø–ø—ã

---

## üì± **–≠–¢–ê–ü 4: FRONTEND INTEGRATION (6-8 —á–∞—Å–æ–≤)**

### **4.1 Chat Components Architecture** ‚è≥
**–í—Ä–µ–º—è:** 2 —á–∞—Å–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π

**–ó–∞–¥–∞—á–∏:**
- [ ] –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —á–∞—Ç–∞
- [ ] ChatSidebar - —Å–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤
- [ ] ChatWindow - –æ–∫–Ω–æ –ø–µ—Ä–µ–ø–∏—Å–∫–∏  
- [ ] MessageList - —Å–ø–∏—Å–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π
- [ ] MessageInput - –ø–æ–ª–µ –≤–≤–æ–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
- [ ] UserTypingIndicator - –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–µ—á–∞—Ç–∏

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:**
```
src/components/chat/
‚îú‚îÄ‚îÄ ChatLayout.tsx
‚îú‚îÄ‚îÄ sidebar/
‚îÇ   ‚îú‚îÄ‚îÄ ChatSidebar.tsx
‚îÇ   ‚îú‚îÄ‚îÄ ChatList.tsx
‚îÇ   ‚îî‚îÄ‚îÄ ChatItem.tsx
‚îú‚îÄ‚îÄ window/
‚îÇ   ‚îú‚îÄ‚îÄ ChatWindow.tsx
‚îÇ   ‚îú‚îÄ‚îÄ ChatHeader.tsx
‚îÇ   ‚îú‚îÄ‚îÄ MessageList.tsx
‚îÇ   ‚îú‚îÄ‚îÄ MessageItem.tsx
‚îÇ   ‚îî‚îÄ‚îÄ MessageInput.tsx
‚îî‚îÄ‚îÄ common/
    ‚îú‚îÄ‚îÄ TypingIndicator.tsx
    ‚îú‚îÄ‚îÄ OnlineStatus.tsx
    ‚îî‚îÄ‚îÄ UserAvatar.tsx
```

### **4.2 SignalR Client Integration** ‚è≥
**–í—Ä–µ–º—è:** 2 —á–∞—Å–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π

**–ó–∞–¥–∞—á–∏:**
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å @microsoft/signalr –ø–∞–∫–µ—Ç
- [ ] –°–æ–∑–¥–∞—Ç—å SignalR connection service
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
- [ ] –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π (–Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, typing)
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ —Ä–∞–∑—Ä—ã–≤–µ —Å–≤—è–∑–∏

### **4.3 Chat State Management** ‚è≥
**–í—Ä–µ–º—è:** 2 —á–∞—Å–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π

**–ó–∞–¥–∞—á–∏:**
- [ ] –°–æ–∑–¥–∞—Ç—å ChatStore —Å Zustand
- [ ] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–º —á–∞—Ç–æ–≤
- [ ] –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
- [ ] –°–æ—Å—Ç–æ—è–Ω–∏–µ typing indicators
- [ ] Online/offline —Å—Ç–∞—Ç—É—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [ ] Optimistic updates –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π

### **4.4 Message Features** ‚è≥
**–í—Ä–µ–º—è:** 2-3 —á–∞—Å–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π

**–ó–∞–¥–∞—á–∏:**
- [ ] –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- [ ] Real-time –ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- [ ] –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
- [ ] –û—Ç–º–µ—Ç–∫–∏ –æ –ø—Ä–æ—á—Ç–µ–Ω–∏–∏
- [ ] –°–∫—Ä–æ–ª–ª –∫ –Ω–æ–≤—ã–º —Å–æ–æ–±—â–µ–Ω–∏—è–º
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π (pagination)

---

## üé® **–≠–¢–ê–ü 5: UI/UX POLISH (4-5 —á–∞—Å–æ–≤)**

### **5.1 Message Formatting** ‚è≥
**–í—Ä–µ–º—è:** 1.5 —á–∞—Å–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π

**–ó–∞–¥–∞—á–∏:**
- [ ] Markdown –ø–æ–¥–¥–µ—Ä–∂–∫–∞ (–∂–∏—Ä–Ω—ã–π, –∫—É—Ä—Å–∏–≤, –∫–æ–¥)
- [ ] –≠–º–æ–¥–∑–∏ picker
- [ ] –°—Å—ã–ª–∫–∏ —Å –ø—Ä–µ–≤—å—é
- [ ] –ö–æ–¥ –±–ª–æ–∫–∏ —Å syntax highlighting
- [ ] @mentions –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### **5.2 Visual Enhancements** ‚è≥  
**–í—Ä–µ–º—è:** 2 —á–∞—Å–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π

**–ó–∞–¥–∞—á–∏:**
- [ ] –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- [ ] –ì—Ä–∞–¥–∏–µ–Ω—Ç—ã –∏ shadows –¥–ª—è —á–∞—Ç –æ–∫–æ–Ω
- [ ] –ê–≤–∞—Ç–∞—Ä—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  
- [ ] –°—Ç–∞—Ç—É—Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã (–æ–Ω–ª–∞–π–Ω/–æ—Ñ—Ñ–ª–∞–π–Ω/–ø–µ—á–∞—Ç–∞–µ—Ç)
- [ ] –¢–µ–º–Ω–∞—è/—Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞ –¥–ª—è —á–∞—Ç–æ–≤

### **5.3 Mobile Responsive** ‚è≥
**–í—Ä–µ–º—è:** 1.5 —á–∞—Å–∞  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π

**–ó–∞–¥–∞—á–∏:**
- [ ] –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
- [ ] –°–≤–æ—Ä–∞—á–∏–≤–∞–µ–º—ã–π sidebar –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
- [ ] Touch gestures –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- [ ] –í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- [ ] Pull-to-refresh –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π

---

## üîß **–≠–¢–ê–ü 6: ADVANCED FEATURES (6-8 —á–∞—Å–æ–≤)**

### **6.1 File Sharing** ‚è≥
**–í—Ä–µ–º—è:** 3 —á–∞—Å–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π

**–ó–∞–¥–∞—á–∏:**
- [ ] Upload API –¥–ª—è —Ñ–∞–π–ª–æ–≤
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- [ ] Thumbnail –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- [ ] –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤
- [ ] –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —Ä–∞–∑–º–µ—Ä –∏ —Ç–∏–ø —Ñ–∞–π–ª–æ–≤

### **6.2 Search & History** ‚è≥
**–í—Ä–µ–º—è:** 2 —á–∞—Å–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π

**–ó–∞–¥–∞—á–∏:**
- [ ] –ü–æ–∏—Å–∫ –ø–æ —Å–æ–æ–±—â–µ–Ω–∏—è–º –≤–Ω—É—Ç—Ä–∏ —á–∞—Ç–∞
- [ ] –ì–ª–æ–±–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º —á–∞—Ç–∞–º
- [ ] –§–∏–ª—å—Ç—Ä—ã –ø–æ –¥–∞—Ç–µ, –∞–≤—Ç–æ—Ä—É, —Ç–∏–ø—É —Å–æ–æ–±—â–µ–Ω–∏—è
- [ ] Highlight –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
- [ ] –ë—ã—Å—Ç—Ä—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ –Ω–∞–π–¥–µ–Ω–Ω–æ–º—É —Å–æ–æ–±—â–µ–Ω–∏—é

### **6.3 Notifications** ‚è≥
**–í—Ä–µ–º—è:** 2 —á–∞—Å–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π

**–ó–∞–¥–∞—á–∏:**
- [ ] Browser push notifications
- [ ] –ó–≤—É–∫–æ–≤—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (–æ—Ç–∫–ª—é—á–∏—Ç—å/–≤–∫–ª—é—á–∏—Ç—å)
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –¥–ª—è @mentions
- [ ] Badge —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö

### **6.4 Performance Optimization** ‚è≥
**–í—Ä–µ–º—è:** 2 —á–∞—Å–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π

**–ó–∞–¥–∞—á–∏:**
- [ ] –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
- [ ] Lazy loading —á–∞—Ç–æ–≤
- [ ] Debounce –¥–ª—è typing indicators
- [ ] –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ API –∑–∞–ø—Ä–æ—Å–æ–≤
- [ ] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è SignalR reconnection

---

## üìä **–£–°–ü–ï–• –ú–ï–¢–†–ò–ö–ò:**

### **üéØ –û—Å–Ω–æ–≤–Ω—ã–µ KPI:**
- ‚úÖ Real-time —Å–æ–æ–±—â–µ–Ω–∏—è < 100ms –∑–∞–¥–µ—Ä–∂–∫–∞
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 100+ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  
- ‚úÖ 99%+ uptime SignalR —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- ‚úÖ < 2s –∑–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ —á–∞—Ç–æ–≤
- ‚úÖ Mobile-first responsive design

### **üöÄ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ü–µ–ª–∏:**
- üì± PWA —Å offline –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π
- üîä Voice messages
- üìπ Video calls integration
- ü§ñ Bot framework –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- üìà Analytics –∏ –º–µ—Ç—Ä–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

---

## üõ†Ô∏è **–¢–ï–•–ù–ò–ß–ï–°–ö–ò–ô –°–¢–ï–ö:**

### **Backend (.NET 9.0):**
```csharp
- ASP.NET Core Web API
- Entity Framework Core + PostgreSQL  
- SignalR –¥–ª—è real-time
- JWT Authentication + OAuth
- AutoMapper + FluentValidation
- Serilog –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- xUnit –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```

### **Frontend (React + TypeScript):**
```typescript
- React 18 + TypeScript
- Zustand –¥–ª—è state management  
- @microsoft/signalr –¥–ª—è real-time
- Tailwind CSS –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏
- React Router –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- React Query –¥–ª—è API –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
```

---

## ‚ö° **–ë–´–°–¢–†–´–ô –°–¢–ê–†–¢:**

### **–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**

1. **üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç #1:** –ù–∞—á–∞—Ç—å —Å **–≠—Ç–∞–ø–∞ 1.1** - —Å–æ–∑–¥–∞–Ω–∏–µ Domain Models
2. **üì¶ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç—ã:** SignalR, AutoMapper, FluentValidation  
3. **üóÑÔ∏è Database:** –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è Chat, Message, ChatParticipant
4. **üîå SignalR:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑–æ–≤—ã–π ChatHub
5. **üì± Frontend:** –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É chat –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### **–ö–æ–º–∞–Ω–¥—ã –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞–∫–µ—Ç–æ–≤:**
```bash
# Backend packages
dotnet add NebulaChat.API package Microsoft.AspNetCore.SignalR
dotnet add NebulaChat.API package AutoMapper
dotnet add NebulaChat.API package FluentValidation

# Frontend packages  
npm install @microsoft/signalr
npm install @tanstack/react-query
```

---

## üéâ **–†–ï–ó–£–õ–¨–¢–ê–¢:**

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–æ—É–¥–º–∞–ø–∞ —É –Ω–∞—Å –±—É–¥–µ—Ç **–ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —á–∞—Ç —Å–∏—Å—Ç–µ–º–∞** —É—Ä–æ–≤–Ω—è Discord/Slack —Å:

- üí¨ **Real-time messaging** —Å –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–æ–π
- üë• **–ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –∏ –≥—Ä—É–ø–ø–æ–≤—ã–µ —á–∞—Ç—ã** —Å —Ä–æ–ª—è–º–∏  
- üì± **Mobile-responsive UI** —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –¥–∏–∑–∞–π–Ω–æ–º
- üîî **Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –∏ typing indicators
- üìÅ **File sharing** —Å preview –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏
- üîç **–ü–æ–∏—Å–∫ –ø–æ —Å–æ–æ–±—â–µ–Ω–∏—è–º** –∏ –∏—Å—Ç–æ—Ä–∏—è
- üé® **–ü–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π UX** —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏

**–û–±—â–µ–µ –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏: 25-35 —á–∞—Å–æ–≤**  
**MVP –≥–æ—Ç–æ–≤ —á–µ—Ä–µ–∑: 15-20 —á–∞—Å–æ–≤**

---

*üí° –≠—Ç–æ—Ç —Ä–æ—É–¥–º–∞–ø —Å–æ–∑–¥–∞–Ω –Ω–∞ –æ—Å–Ω–æ–≤–µ –≥–ª—É–±–æ–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π backend –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ —Å–ª–µ–¥—É–µ—Ç –ª—É—á—à–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ enterprise —á–∞—Ç —Å–∏—Å—Ç–µ–º.* 