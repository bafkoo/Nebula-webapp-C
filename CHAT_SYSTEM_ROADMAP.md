# üí¨ CHAT SYSTEM ROADMAP - NEBULA CHAT PROJECT

## üîç –ê–ù–ê–õ–ò–ó BACKEND –ê–†–•–ò–¢–ï–ö–¢–£–†–´

### üèóÔ∏è **–¢–µ–∫—É—â–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (.NET 9.0):**

**‚úÖ –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- **Clean Architecture** - 4 —Å–ª–æ—è (API, Application, Domain, Infrastructure)
- **PostgreSQL** –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å Entity Framework Core
- **JWT Authentication** —Å refresh —Ç–æ–∫–µ–Ω–∞–º–∏
- **OAuth –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã** (Google, GitHub) 
- **Email —Å–∏—Å—Ç–µ–º–∞** (Resend API)
- **BCrypt** —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
- **CORS** –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è frontend

**‚úÖ –ì–æ—Ç–æ–≤–∞—è User —Å–∏—Å—Ç–µ–º–∞:**
```csharp
User Entity:
- Id (Guid), Username, Email, PasswordHash
- OAuth –ø–æ–ª—è: GoogleId, GitHubId, AppleId
- Email –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è: IsEmailVerified, EmailVerifiedAt
- –¢–æ–∫–µ–Ω—ã: EmailVerificationToken, PasswordResetToken
- Timestamps: CreatedAt, UpdatedAt, LastLoginAt
- AvatarUrl –¥–ª—è –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

**üîß –ü–∞–∫–µ—Ç—ã –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è:**
- **SignalR** –¥–ª—è real-time —á–∞—Ç–æ–≤ 
- **AutoMapper** –¥–ª—è –º–∞–ø–ø–∏–Ω–≥–∞ DTOs
- **FluentValidation** –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- **Serilog** –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- **Redis** –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## üöÄ ROADMAP: –ß–ê–¢ –°–ò–°–¢–ï–ú–ê

### üìä **–ü–†–û–ì–†–ï–°–° –¢–†–ï–ö–ò–ù–ì:**
- ‚è≥ –í –ø—Ä–æ—Ü–µ—Å—Å–µ
- ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ  
- ‚ùå –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ

---

## üéØ **–≠–¢–ê–ü 1: –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –ß–ê–¢–ê (4-5 —á–∞—Å–æ–≤)**

### **1.1 Backend Domain Models** ‚úÖ
**–í—Ä–µ–º—è:** 1.5 —á–∞—Å–∞  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π

**–ó–∞–¥–∞—á–∏:**
- [‚úÖ] –°–æ–∑–¥–∞—Ç—å Chat Entity (Id, Name, Type, CreatedBy, CreatedAt)
- [‚úÖ] –°–æ–∑–¥–∞—Ç—å Message Entity (Id, ChatId, UserId, Content, MessageType, CreatedAt)
- [‚úÖ] –°–æ–∑–¥–∞—Ç—å ChatParticipant Entity (ChatId, UserId, Role, JoinedAt, LastReadAt)
- [‚úÖ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å EF Core –æ—Ç–Ω–æ—à–µ–Ω–∏—è –º–µ–∂–¥—É –º–æ–¥–µ–ª—è–º–∏
- [‚úÖ] –î–æ–±–∞–≤–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –Ω–æ–≤—ã—Ö —Ç–∞–±–ª–∏—Ü

**–§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è:**
```
NebulaChat.Domain/Entities/
‚îú‚îÄ‚îÄ Chat.cs
‚îú‚îÄ‚îÄ Message.cs  
‚îú‚îÄ‚îÄ ChatParticipant.cs
‚îî‚îÄ‚îÄ Enums/
    ‚îú‚îÄ‚îÄ ChatType.cs (Private, Group, Channel)
    ‚îú‚îÄ‚îÄ MessageType.cs (Text, Image, File, System)
    ‚îî‚îÄ‚îÄ ParticipantRole.cs (Member, Admin, Owner)
```

### **1.2 Database Schema Design** ‚úÖ
**–í—Ä–µ–º—è:** 1 —á–∞—Å  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π

**–ó–∞–¥–∞—á–∏:**
- [‚úÖ] –°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è —á–∞—Ç–æ–≤
- [‚úÖ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å cascade —É–¥–∞–ª–µ–Ω–∏–µ –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π
- [‚úÖ] –î–æ–±–∞–≤–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —Ä–∞–∑–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π
- [‚úÖ] –°–æ–∑–¥–∞—Ç—å –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ —á–∞—Ç–∞–º
- [‚úÖ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É soft delete

**‚úÖ –ó–ê–í–ï–†–®–ï–ù–û:**
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –≤—Å–µ—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã composite –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã filtered –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —Ä–∞–∑–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π (2000 —Å–∏–º–≤–æ–ª–æ–≤)
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤ (50MB)
- ‚úÖ Query —Ñ–∏–ª—å—Ç—Ä—ã –¥–ª—è soft delete
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è OptimizeDbSchemaComplete –ø—Ä–∏–º–µ–Ω–µ–Ω–∞

### **1.3 SignalR Integration** ‚úÖ  
**–í—Ä–µ–º—è:** 2 —á–∞—Å–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π

**–ó–∞–¥–∞—á–∏:**
- [‚úÖ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Microsoft.AspNetCore.SignalR –ø–∞–∫–µ—Ç
- [‚úÖ] –°–æ–∑–¥–∞—Ç—å ChatHub –¥–ª—è real-time –æ–±—â–µ–Ω–∏—è
- [‚úÖ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –≤ SignalR
- [‚úÖ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≥—Ä—É–ø–ø—ã –¥–ª—è —á–∞—Ç –∫–æ–º–Ω–∞—Ç
- [‚úÖ] –î–æ–±–∞–≤–∏—Ç—å typing indicators (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—á–∞—Ç–∞–µ—Ç)
- [‚úÖ] –°–æ–∑–¥–∞—Ç—å ConnectionMapping —Å–µ—Ä–≤–∏—Å –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- [‚úÖ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –¥–ª—è SignalR Hub

**‚úÖ –ó–ê–í–ï–†–®–ï–ù–û:**
- ‚úÖ ChatHub.cs - –æ—Å–Ω–æ–≤–Ω–æ–π hub —Å –º–µ—Ç–æ–¥–∞–º–∏ JoinChat, LeaveChat, SendMessage, SetTyping, MarkAsRead
- ‚úÖ IConnectionMapping.cs - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –º–∞–ø–ø–∏–Ω–≥–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- ‚úÖ ConnectionMappingService.cs - thread-safe —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–∞–ø–ø–∏–Ω–≥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∫ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SignalR –≤ Program.cs —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ JWT —Ç–æ–∫–µ–Ω –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–ª—è SignalR —á–µ—Ä–µ–∑ query string
- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è [Authorize] –Ω–∞ Hub —É—Ä–æ–≤–Ω–µ
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è/–æ—Ç–∫–ª—é—á–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ Real-time —Å–æ–±—ã—Ç–∏—è: UserOnline, UserOffline, UserJoined, UserLeft, UserTyping, ReceiveMessage, MessageRead
- ‚úÖ Error handling –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ Hub –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: ws://localhost:5000/chatHub

### **1.4 Repository Pattern** ‚úÖ
**–í—Ä–µ–º—è:** 1 —á–∞—Å
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π

**–ó–∞–¥–∞—á–∏:**
- [‚úÖ] –°–æ–∑–¥–∞—Ç—å IChatRepository —Å –±–∞–∑–æ–≤—ã–º–∏ CRUD –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
- [‚úÖ] –°–æ–∑–¥–∞—Ç—å IMessageRepository —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- [‚úÖ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω Unit of Work
- [‚úÖ] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —á–∞—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [‚úÖ] –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã —Å Include

---

## üí¨ **–≠–¢–ê–ü 2: –ü–†–ò–í–ê–¢–ù–´–ï –ß–ê–¢–´ (5-6 —á–∞—Å–æ–≤)**

### **2.1 Chat API Controllers** ‚úÖ
**–í—Ä–µ–º—è:** 1 —á–∞—Å
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π

**–ó–∞–¥–∞—á–∏:**
- [‚úÖ] –°–æ–∑–¥–∞—Ç—å ChatController —Å –±–∞–∑–æ–≤—ã–º CRUD
- [‚úÖ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å GET /api/chat - –ø–æ–ª—É—á–µ–Ω–∏–µ —á–∞—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- [‚úÖ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å POST /api/chat - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —á–∞—Ç–∞
- [‚úÖ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å GET /api/chat/{id} - –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —á–∞—Ç–∞
- [‚úÖ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å 
PUT /api/chat/{id} - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–∞—Ç–∞
- [‚úÖ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å DELETE /api/chat/{id} - —É–¥–∞–ª–µ–Ω–∏–µ —á–∞—Ç–∞
- [‚úÖ] –î–æ–±–∞–≤–∏—Ç—å GET /api/chat/search - –ø–æ–∏—Å–∫ —á–∞—Ç–æ–≤ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é

**‚úÖ –ó–ê–í–ï–†–®–ï–ù–û:**
- ‚úÖ ChatController.cs - –ø–æ–ª–Ω—ã–π REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —á–∞—Ç–∞–º–∏
- ‚úÖ JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–∞ –≤—Å–µ—Ö endpoints
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ enum ChatType –≤–º–µ—Å—Ç–æ —Å—Ç—Ä–æ–∫
- ‚úÖ –í—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–≥–ª—É—à–∫–∏ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ API
- ‚úÖ HTTP —Å—Ç–∞—Ç—É—Å –∫–æ–¥—ã: 200 OK, 201 Created, 204 NoContent, 400 BadRequest, 403 Forbidden, 500 InternalServerError

### **2.2 Message API Controllers** ‚úÖ
**–í—Ä–µ–º—è:** 1 —á–∞—Å
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π

**–ó–∞–¥–∞—á–∏:**
- [‚úÖ] –°–æ–∑–¥–∞—Ç—å MessagesController
- [‚úÖ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å GET /api/chats/{id}/messages —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- [‚úÖ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å POST /api/chats/{id}/messages - –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
- [‚úÖ] –î–æ–±–∞–≤–∏—Ç—å PUT /api/messages/{id} - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- [‚úÖ] –î–æ–±–∞–≤–∏—Ç—å DELETE /api/messages/{id} - —É–¥–∞–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- [‚úÖ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å POST /api/messages/{id}/read - –æ—Ç–º–µ—Ç–∫–∞ –∫–∞–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–æ–µ

**‚úÖ –ó–ê–í–ï–†–®–ï–ù–û:**
- ‚úÖ MessagesController.cs - –±–∞–∑–æ–≤—ã–π REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –∏ –∑–∞–≥–ª—É—à–∫–∞–º–∏

### **2.3 Real-time Messaging** ‚úÖ
**–í—Ä–µ–º—è:** 2.5 —á–∞—Å–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π

**–ó–∞–¥–∞—á–∏:**
- [‚úÖ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è SignalR —Å Message Controller
- [‚úÖ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å broadcast –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –≥—Ä—É–ø–ø—ã
- [‚úÖ] –î–æ–±–∞–≤–∏—Ç—å broadcast –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
- [‚úÖ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å typing indicators
- [‚úÖ] –î–æ–±–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–æ—á—Ç–µ–Ω–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- [‚úÖ] –î–æ–±–∞–≤–∏—Ç—å online/offline —Å—Ç–∞—Ç—É—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–±–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ (–±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –Ω–∞ frontend)

**‚úÖ –ó–ê–í–ï–†–®–ï–ù–û:**
- ‚úÖ `IHubContext<ChatHub>` –≤–Ω–µ–¥—Ä–µ–Ω –≤ `MessagesController`
- ‚úÖ –ú–µ—Ç–æ–¥—ã API (`POST`, `PUT`, `DELETE`) —Ç–µ–ø–µ—Ä—å –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç real-time —Å–æ–±—ã—Ç–∏—è
- ‚úÖ –í `ChatHub` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –º–µ—Ç–æ–¥—ã `SetTyping` –∏ `MarkAsRead`
- ‚úÖ –ë–∞–∑–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ `UserOnline`/`UserOffline` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å —Ä–∞—Å—Å—ã–ª–∫–æ–π –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

### **2.4 DTOs –∏ Validation** ‚úÖ
**–í—Ä–µ–º—è:** 1 —á–∞—Å
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π

**–ó–∞–¥–∞—á–∏:**
- [‚úÖ] –°–æ–∑–¥–∞—Ç—å ChatDto, MessageDto, ParticipantDto (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ, –æ—Å–Ω–æ–≤–Ω—ã–µ –µ—Å—Ç—å)
- [‚úÖ] –î–æ–±–∞–≤–∏—Ç—å CreateChatRequest, SendMessageRequest DTOs (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ, —Å—É—â–µ—Å—Ç–≤—É—é—Ç)
- [‚úÖ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å FluentValidation –¥–ª—è –≤—Å–µ—Ö request DTOs
- [‚úÖ] –î–æ–±–∞–≤–∏—Ç—å AutoMapper –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
- [‚úÖ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ API)

**‚úÖ –ó–ê–í–ï–†–®–ï–ù–û:**
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω FluentValidation
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã –¥–ª—è CreateChatRequest –∏ SendMessageRequest
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω AutoMapper
- ‚úÖ –°–æ–∑–¥–∞–Ω –ø—Ä–æ—Ñ–∏–ª—å –¥–ª—è –º–∞–ø–ø–∏–Ω–≥–∞ Chat -> ChatDto
- ‚úÖ –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –ø–∞–∫–µ—Ç–æ–≤ –∏ –æ—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

---

## üë• **–≠–¢–ê–ü 3: –ì–†–£–ü–ü–û–í–´–ï –ß–ê–¢–´ (4-5 —á–∞—Å–æ–≤)**

### **3.1 Group Chat Features** ‚úÖ
**–í—Ä–µ–º—è:** 3 —á–∞—Å–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π

**–ó–∞–¥–∞—á–∏:**
- [‚úÖ] –†–∞—Å—à–∏—Ä–∏—Ç—å Chat Entity –¥–ª—è –≥—Ä—É–ø–ø—ã (MaxParticipants, Description)
- [‚úÖ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–æ–ª–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (Owner, Admin, Member)
- [‚úÖ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (–∫—Ç–æ –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤)
- [‚úÖ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≥—Ä—É–ø–ø–æ–≤—ã–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è
- [‚úÖ] –î–æ–±–∞–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≥—Ä—É–ø–ø—ã (–∞–≤–∞—Ç–∞—Ä, –æ–ø–∏—Å–∞–Ω–∏–µ)

### **3.2 Admin Features** ‚úÖ
**–í—Ä–µ–º—è:** 1.5 —á–∞—Å–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π

**–ó–∞–¥–∞—á–∏:**
- [‚úÖ] Kick/Ban —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∏–∑ –≥—Ä—É–ø–ø—ã
- [‚úÖ] –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–µ–π —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- [‚úÖ] –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≥—Ä—É–ø–ø—ã (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤)
- [‚úÖ] –ú–æ–¥–µ—Ä–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
- [‚úÖ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π

### **3.3 Group Management UI Logic** ‚è≥
**–í—Ä–µ–º—è:** 2 —á–∞—Å–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π

**–ó–∞–¥–∞—á–∏:**
- [‚úÖ] API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ –≥—Ä—É–ø–ø—ã
- [‚úÖ] –ü–æ–∏—Å–∫ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- [‚úÖ] –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å —Ä–æ–ª—è–º–∏
- [‚úÖ] –ò—Å—Ç–æ—Ä–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
- [‚úÖ] –≠–∫—Å–ø–æ—Ä—Ç —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≥—Ä—É–ø–ø—ã

### **3.4 Group Management UI Logic** ‚úÖ
**–í—Ä–µ–º—è:** 2 —á–∞—Å–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π

**–ó–∞–¥–∞—á–∏:**
- [‚úÖ] API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ –≥—Ä—É–ø–ø—ã
- [‚úÖ] –ü–æ–∏—Å–∫ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- [‚úÖ] –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å —Ä–æ–ª—è–º–∏
- [‚úÖ] –ò—Å—Ç–æ—Ä–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
- [‚úÖ] –≠–∫—Å–ø–æ—Ä—Ç —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≥—Ä—É–ø–ø—ã

---

## üì± **–≠–¢–ê–ü 4: –í–°–¢–†–û–ï–ù–ù–´–ô –ß–ê–¢ –í –ì–õ–ê–í–ù–£–Æ –°–¢–†–ê–ù–ò–¶–£ (6-8 —á–∞—Å–æ–≤)** ‚úÖ

### **4.1 Full-Featured Chat Interface** ‚úÖ
**–í—Ä–µ–º—è:** 3-4 —á–∞—Å–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π

**–û–ë–ù–û–í–õ–ï–ù–ù–ê–Ø –ö–û–ù–¶–ï–ü–¶–ò–Ø:** –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —á–∞—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –≤–∫–ª–∞–¥–æ—á–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π Dashboard/Chat

**–ó–∞–¥–∞—á–∏:**
- [‚úÖ] –°–æ–∑–¥–∞—Ç—å FullChatInterface - –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —á–∞—Ç —Å –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª—å—é –∏ –æ—Å–Ω–æ–≤–Ω–æ–π –æ–±–ª–∞—Å—Ç—å—é
- [‚úÖ] –°–∏—Å—Ç–µ–º–∞ –≤–∫–ª–∞–¥–æ–∫ Dashboard/Chat –≤ MainPage
- [‚úÖ] –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å —Å–æ —Å–ø–∏—Å–∫–æ–º —á–∞—Ç–æ–≤, –ø–æ–∏—Å–∫–æ–º –∏ –∞–≤–∞—Ç–∞—Ä–∞–º–∏
- [‚úÖ] –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å —Å –∞–∫—Ç–∏–≤–Ω–æ–π –ø–µ—Ä–µ–ø–∏—Å–∫–æ–π
- [‚úÖ] ChatMessageList - –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
- [‚úÖ] ChatInput - –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–ª—è –≤–≤–æ–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
- [‚úÖ] TypingIndicator - –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–ª—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –ø–µ—á–∞—Ç–∏
- [‚úÖ] –†–∞—Å—à–∏—Ä–µ–Ω—ã —Ç–∏–ø—ã ChatDto –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ UI –ø–æ–ª–µ–π

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:**
```
src/components/app/chat/
‚îú‚îÄ‚îÄ FullChatInterface.tsx        # ‚úÖ –ì–ª–∞–≤–Ω—ã–π –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —á–∞—Ç–∞
‚îú‚îÄ‚îÄ ChatMessageList.tsx          # ‚úÖ –°–ø–∏—Å–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π (–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω)
‚îú‚îÄ‚îÄ ChatMessageItem.tsx          # ‚úÖ –û—Ç–¥–µ–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω)  
‚îú‚îÄ‚îÄ ChatInput.tsx                # ‚úÖ –ü–æ–ª–µ –≤–≤–æ–¥–∞ (–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω)
‚îú‚îÄ‚îÄ TypingIndicator.tsx          # ‚úÖ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–µ—á–∞—Ç–∏ (–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω)
‚îú‚îÄ‚îÄ ChatHeader.tsx               # ‚ö†Ô∏è –ë–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
‚îî‚îÄ‚îÄ common/
    ‚îú‚îÄ‚îÄ OnlineStatus.tsx         # üîÑ –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è
    ‚îî‚îÄ‚îÄ ChatUserAvatar.tsx       # üîÑ –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è
```

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ MainPage:**
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –≤–∫–ª–∞–¥–æ–∫: Dashboard ‚Üî Chat
- ‚úÖ –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —á–∞—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å 
- ‚úÖ –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å: —Å–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤ (320px)
- ‚úÖ –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å: –∞–∫—Ç–∏–≤–Ω–∞—è –ø–µ—Ä–µ–ø–∏—Å–∫–∞ (flex-1)
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ —á–∞—Ç–∞–º, —Å—á–µ—Ç—á–∏–∫–∏ –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö
- ‚úÖ –¢–æ—Ç –∂–µ –¥–∏–∑–∞–π–Ω —á—Ç–æ –∏ Dashboard (Card + —Ç–µ–º–Ω–∞—è —Ç–µ–º–∞)

### **4.2 SignalR Client Integration** ‚úÖ
**–í—Ä–µ–º—è:** 2 —á–∞—Å–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π

**–ó–∞–¥–∞—á–∏:**
- [‚úÖ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å @microsoft/signalr –ø–∞–∫–µ—Ç
- [‚úÖ] –°–æ–∑–¥–∞—Ç—å SignalR connection service –≤ `src/lib/signalr.ts`
- [‚úÖ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
- [‚úÖ] –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π (–Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, typing)
- [‚úÖ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ —Ä–∞–∑—Ä—ã–≤–µ —Å–≤—è–∑–∏
- [‚úÖ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å FullChatInterface

### **4.3 Chat State Management** ‚úÖ
**–í—Ä–µ–º—è:** 2 —á–∞—Å–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π

**–ó–∞–¥–∞—á–∏:**
- [‚úÖ] –†–∞—Å—à–∏—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π appStore –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å chatStore —Å Zustand
- [‚úÖ] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–º —á–∞—Ç–æ–≤
- [‚úÖ] –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —á–∞—Ç–∞
- [‚úÖ] –°–æ—Å—Ç–æ—è–Ω–∏–µ typing indicators
- [‚úÖ] Online/offline —Å—Ç–∞—Ç—É—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [‚úÖ] Optimistic updates –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- [‚úÖ] –ê–∫—Ç–∏–≤–Ω—ã–π —á–∞—Ç –∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —á–∞—Ç–∞–º–∏
**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ë–∞–∑–æ–≤–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º (—Å–æ–æ–±—â–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —á–∞—Ç–∞) —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Å –ø–æ–º–æ—â—å—é React Hooks (`useChat.ts`) –≤–º–µ—Å—Ç–æ Zustand.

### **4.4 Message Features** ‚úÖ
**–í—Ä–µ–º—è:** 2-3 —á–∞—Å–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π

**–ó–∞–¥–∞—á–∏:**
- [‚úÖ] –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π —á–µ—Ä–µ–∑ FullChatInterface
- [‚úÖ] Real-time –ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- [‚úÖ] –ê–≤—Ç–æ—Å–∫—Ä–æ–ª–ª –∫ –Ω–æ–≤—ã–º —Å–æ–æ–±—â–µ–Ω–∏—è–º –≤ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–º –≤–∏–¥–µ
- [‚úÖ] –û—Ç–º–µ—Ç–∫–∏ –æ –ø—Ä–æ—á—Ç–µ–Ω–∏–∏
- [‚úÖ] –ë–∞–∑–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 20)
- [‚úÖ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö –≤ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö —á–∞—Ç–∞—Ö

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ —á–∞—Ç–∞:**
- –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–æ–º—Ñ–æ—Ä—Ç–∞
- –ê–≤—Ç–æ-—Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- –ë—ã—Å—Ç—Ä–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —á–∞—Ç–∞–º–∏ —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É –≤–∫–ª–∞–¥–æ–∫
- –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –±–µ–∑ –∏–∑–±—ã—Ç–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ–±—â–∏–º –¥–∏–∑–∞–π–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### **4.5 –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: CORS & Message Persistence** ‚úÖ
**–í—Ä–µ–º—è:** 2 —á–∞—Å–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô
**–î–∞—Ç–∞ —Ä–µ—à–µ–Ω–∏—è:** 24.06.2025

**‚ö†Ô∏è –û–ë–ù–ê–†–£–ñ–ï–ù–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê:**
–°–æ–æ–±—â–µ–Ω–∏—è –∏—Å—á–µ–∑–∞–ª–∏ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–∑-–∑–∞ –¥–≤—É—Ö –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫:

1. **CORS –ö–æ–Ω—Ñ–ª–∏–∫—Ç –ø–æ—Ä—Ç–æ–≤:**
   - –ü–æ—Ä—Ç 5000 –±—ã–ª –∑–∞–Ω—è—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–º —Å–µ—Ä–≤–∏—Å–æ–º AirTunes –Ω–∞ macOS
   - SignalR –Ω–µ –º–æ–≥ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ `http://localhost:5000/chatHub`
   - –û—à–∏–±–∫–∞: "Cannot use wildcard in Access-Control-Allow-Origin when credentials flag is true"

2. **–°–æ–æ–±—â–µ–Ω–∏—è –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:**
   - –í `ChatHub.SendMessage()` –±—ã–ª–∞ —Ç–æ–ª—å–∫–æ –∑–∞–≥–ª—É—à–∫–∞ —Å TODO –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º
   - –°–æ–æ–±—â–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è–ª–∏—Å—å —á–µ—Ä–µ–∑ SignalR, –Ω–æ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å –≤ PostgreSQL
   - –ü—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏—Å—Ç–æ—Ä–∏—è –±—ã–ª–∞ –ø—É—Å—Ç–∞

**‚úÖ –†–ï–®–ï–ù–ò–ï:**

**1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—Ç–æ–≤:**
- [‚úÖ] –ò–∑–º–µ–Ω–µ–Ω –ø–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ —Å 5000 ‚Üí 5001 –≤ `Program.cs`
- [‚úÖ] –û–±–Ω–æ–≤–ª–µ–Ω `API_BASE_URL` –≤ `src/frontend/src/lib/api.ts`
- [‚úÖ] –û–±–Ω–æ–≤–ª–µ–Ω `API_BASE_URL` –≤ `src/frontend/src/lib/signalrService.ts`
- [‚úÖ] –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –Ω–æ–≤–æ–º –ø–æ—Ä—Ç—É

**2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π:**
- [‚úÖ] –î–æ–±–∞–≤–ª–µ–Ω `IMessageService` –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `ChatHub`
- [‚úÖ] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `SendMessage()` –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î —á–µ—Ä–µ–∑ `_messageService.SendMessageAsync()`
- [‚úÖ] –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã –∏–º–µ–Ω–∞ –≥—Ä—É–ø–ø SignalR (—É–±—Ä–∞–Ω –ø—Ä–µ—Ñ–∏–∫—Å "Chat_", –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–æ—Å—Ç–æ `chatId`)
- [‚úÖ] –î–æ–±–∞–≤–ª–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ –≥—Ä—É–ø–ø—ã —á–∞—Ç–æ–≤ –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏
- [‚úÖ] –°–æ–∑–¥–∞–Ω –º–µ—Ç–æ–¥ `GetUserChatIdsAsync()` –≤ `IChatService` –∏ `ChatService`

**3. –£–ª—É—á—à–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:**
- [‚úÖ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∫ –≥—Ä—É–ø–ø–∞–º —á–∞—Ç–æ–≤ –≤ `OnConnectedAsync()`
- [‚úÖ] –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è `userId` –∫–∞–∫ `Guid` –≤–æ –≤—Å–µ—Ö –º–µ—Ç–æ–¥–∞—Ö Hub
- [‚úÖ] –£–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏–π SignalR

**–†–ï–ó–£–õ–¨–¢–ê–¢:** 
- ‚úÖ –°–æ–æ–±—â–µ–Ω–∏—è —Ç–µ–ø–µ—Ä—å —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ PostgreSQL –∏ –Ω–µ –∏—Å—á–µ–∑–∞—é—Ç –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ
- ‚úÖ SignalR —Å—Ç–∞–±–∏–ª—å–Ω–æ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ –ø–æ—Ä—Ç—É 5001
- ‚úÖ Real-time —Å–æ–æ–±—â–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ —á–∞—Ç

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
```
Backend:
‚îú‚îÄ‚îÄ src/backend/NebulaChat.API/Program.cs - –∏–∑–º–µ–Ω–µ–Ω –ø–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞
‚îú‚îÄ‚îÄ src/backend/NebulaChat.API/Hubs/ChatHub.cs - –¥–æ–±–∞–≤–ª–µ–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î
‚îú‚îÄ‚îÄ src/backend/NebulaChat.API/Services/Interfaces/IChatService.cs - –¥–æ–±–∞–≤–ª–µ–Ω GetUserChatIdsAsync
‚îî‚îÄ‚îÄ src/backend/NebulaChat.API/Services/ChatService.cs - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω GetUserChatIdsAsync

Frontend:
‚îú‚îÄ‚îÄ src/frontend/src/lib/api.ts - –æ–±–Ω–æ–≤–ª–µ–Ω –ø–æ—Ä—Ç API
‚îî‚îÄ‚îÄ src/frontend/src/lib/signalrService.ts - –æ–±–Ω–æ–≤–ª–µ–Ω –ø–æ—Ä—Ç SignalR
```

---

## üé® **–≠–¢–ê–ü 5: UI/UX POLISH (4-5 —á–∞—Å–æ–≤)**

### **5.1 Message Formatting** ‚úÖ
**–í—Ä–µ–º—è:** 1.5 —á–∞—Å–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π

**–ó–∞–¥–∞—á–∏:**
- [‚úÖ] Markdown –ø–æ–¥–¥–µ—Ä–∂–∫–∞ (–∂–∏—Ä–Ω—ã–π, –∫—É—Ä—Å–∏–≤, –∫–æ–¥)
- [‚úÖ] –≠–º–æ–¥–∑–∏ picker
- [‚úÖ] –°—Å—ã–ª–∫–∏ —Å –ø—Ä–µ–≤—å—é
- [‚úÖ] –ö–æ–¥ –±–ª–æ–∫–∏ —Å syntax highlighting
- [‚úÖ] @mentions –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**‚úÖ –ó–ê–í–ï–†–®–ï–ù–û:**
- ‚úÖ MessageRenderer.tsx - —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ Markdown —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∂–∏—Ä–Ω–æ–≥–æ, –∫—É—Ä—Å–∏–≤–∞, –∫–æ–¥–∞, —Å–ø–∏—Å–∫–æ–≤, —Ü–∏—Ç–∞—Ç, —Å—Å—ã–ª–æ–∫
- ‚úÖ EmojiPicker.tsx - –±—ã—Å—Ç—Ä—ã–µ —ç–º–æ–¥–∑–∏ + –ø–æ–ª–Ω—ã–π picker —Å –ø–æ–∏—Å–∫–æ–º –∏ –Ω–µ–¥–∞–≤–Ω–∏–º–∏
- ‚úÖ MessageFormatter.tsx - –ø–∞–Ω–µ–ª—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å –≥–æ—Ä—è—á–∏–º–∏ –∫–ª–∞–≤–∏—à–∞–º–∏
- ‚úÖ @—É–ø–æ–º–∏–Ω–∞–Ω–∏—è (—Å–∏–Ω–∏–µ) –∏ #–∫–∞–Ω–∞–ª—ã (–∑–µ–ª–µ–Ω—ã–µ) —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π
- ‚úÖ –ü—Ä–µ–≤—å—é —Å—Å—ã–ª–æ–∫ —Å –∑–∞–≥–ª—É—à–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏  
- ‚úÖ –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –¥–ª—è –±–ª–æ–∫–æ–≤ –∫–æ–¥–∞ (Prism.js)
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω ChatInput.tsx –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω ChatMessageItem.tsx –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è MessageRenderer
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–∞–∫–µ—Ç—ã: react-markdown, remark-gfm, remark-breaks, rehype-highlight, emoji-picker-react, prismjs, @tailwindcss/typography

### **5.2 Visual Enhancements** ‚úÖ  
**–í—Ä–µ–º—è:** 2 —á–∞—Å–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π

**–ó–∞–¥–∞—á–∏:**
- [‚úÖ] –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- [‚úÖ] –ì—Ä–∞–¥–∏–µ–Ω—Ç—ã –∏ shadows –¥–ª—è —á–∞—Ç –æ–∫–æ–Ω
- [‚úÖ] –ê–≤–∞—Ç–∞—Ä—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  
- [‚úÖ] –°—Ç–∞—Ç—É—Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã (–æ–Ω–ª–∞–π–Ω/–æ—Ñ—Ñ–ª–∞–π–Ω/–ø–µ—á–∞—Ç–∞–µ—Ç)
- [‚úÖ] –¢–µ–º–Ω–∞—è/—Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞ –¥–ª—è —á–∞—Ç–æ–≤

**‚úÖ –ó–ê–í–ï–†–®–ï–ù–û:**
- ‚úÖ –ê–Ω–∏–º–∞—Ü–∏–∏ fade-in-up, bounce-in, scale-in, pulse-glow –¥–ª—è –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ ChatMessageItem.tsx - –¥–æ–±–∞–≤–ª–µ–Ω—ã –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π –æ—à–∏–±–æ–∫
- ‚úÖ ChatMessageList.tsx - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏
- ‚úÖ CSS –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã chat-gradient-bg, chat-window-shadow, chat-input-glow –¥–ª—è –æ–∫–æ–Ω
- ‚úÖ FullChatInterface.tsx - –ø—Ä–∏–º–µ–Ω–µ–Ω—ã visual enhancements —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞–º–∏ –∏ —Ç–µ–Ω—è–º–∏
- ‚úÖ Hover —ç—Ñ—Ñ–µ–∫—Ç—ã –∏ transitions –¥–ª—è –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- ‚úÖ –°—Ç–∞—Ç—É—Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å –∏–∫–æ–Ω–∫–∞–º–∏ OnlineStatusIcon, AwayStatusIcon, BusyStatusIcon, OfflineStatusIcon
- ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º–Ω–æ–π/—Å–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ —á–∞—Ç–∞
- ‚úÖ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ç–µ–º chat-dark/chat-light —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤

### **5.3 Mobile Responsive** ‚ùå –ü–†–û–ü–£–©–ï–ù
**–í—Ä–µ–º—è:** 1.5 —á–∞—Å–∞  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π

**–ó–∞–¥–∞—á–∏:**
- [‚ùå] –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö (–ø—Ä–æ–ø—É—â–µ–Ω–æ –ø–æ –ø—Ä–æ—Å—å–±–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- [‚ùå] –°–≤–æ—Ä–∞—á–∏–≤–∞–µ–º—ã–π sidebar –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö (–ø—Ä–æ–ø—É—â–µ–Ω–æ –ø–æ –ø—Ä–æ—Å—å–±–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- [‚ùå] Touch gestures –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (–ø—Ä–æ–ø—É—â–µ–Ω–æ –ø–æ –ø—Ä–æ—Å—å–±–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- [‚ùå] –í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ (–ø—Ä–æ–ø—É—â–µ–Ω–æ –ø–æ –ø—Ä–æ—Å—å–±–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- [‚ùå] Pull-to-refresh –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π (–ø—Ä–æ–ø—É—â–µ–Ω–æ –ø–æ –ø—Ä–æ—Å—å–±–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)

**‚ùå –ü–†–û–ü–£–©–ï–ù–û:**
–≠—Ç–∞–ø –ø—Ä–æ–ø—É—â–µ–Ω –ø–æ –ø—Ä–æ—Å—å–±–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –º–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

---

## üîß **–≠–¢–ê–ü 6: ADVANCED FEATURES (6-8 —á–∞—Å–æ–≤)**

### **6.1 File Sharing** ‚úÖ
**–í—Ä–µ–º—è:** 3 —á–∞—Å–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π

**–ó–∞–¥–∞—á–∏:**
- [‚úÖ] Upload API –¥–ª—è —Ñ–∞–π–ª–æ–≤
- [‚úÖ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- [‚úÖ] Thumbnail –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- [‚úÖ] –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤
- [‚úÖ] –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —Ä–∞–∑–º–µ—Ä –∏ —Ç–∏–ø —Ñ–∞–π–ª–æ–≤

**‚úÖ –ó–ê–í–ï–†–®–ï–ù–û:**
- ‚úÖ FilesController.cs - Upload API —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π multipart/form-data
- ‚úÖ SendMessageRequest.cs/MessageDto.cs - –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è fileUrl, fileName, fileSize, mimeType
- ‚úÖ MessageService.cs - –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ñ–∞–π–ª–æ–≤ –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö
- ‚úÖ Program.cs - –¥–æ–±–∞–≤–ª–µ–Ω middleware –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ FileUpload.tsx - drag & drop –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å –ø—Ä–µ–≤—å—é –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- ‚úÖ FileMessage.tsx - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ —Å preview –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚úÖ ChatInput.tsx - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å FileUpload —á–µ—Ä–µ–∑ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
- ‚úÖ ChatMessageItem.tsx - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö
- ‚úÖ useChat.ts - –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è uploadFile —Å –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–º UI
- ‚úÖ api.ts - –º–µ—Ç–æ–¥ uploadFile –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- ‚úÖ types/chat.ts - –æ–±–Ω–æ–≤–ª–µ–Ω—ã —Ç–∏–ø—ã MessageDto –∏ SendMessageRequest
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (.jpg, .png, .gif, .webp), –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (.pdf, .doc, .txt), –∞—Ä—Ö–∏–≤–æ–≤ (.zip, .rar)
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è 10MB –Ω–∞ —Ñ–∞–π–ª, –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ç–∏–ø–æ–≤ —Ñ–∞–π–ª–æ–≤ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –∏ —Å–µ—Ä–≤–µ—Ä–µ
- ‚úÖ Thumbnail preview –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å full-screen –º–æ–¥–∞–ª—å–Ω—ã–º –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–º
- ‚úÖ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –¥–ª—è —Ñ–∞–π–ª–æ–≤

### **6.2 Search & History** ‚è≥
**–í—Ä–µ–º—è:** 2 —á–∞—Å–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π

**–ó–∞–¥–∞—á–∏:**
- [ ] –ü–æ–∏—Å–∫ –ø–æ —Å–æ–æ–±—â–µ–Ω–∏—è–º –≤–Ω—É—Ç—Ä–∏ —á–∞—Ç–∞
- [ ] –ì–ª–æ–±–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º —á–∞—Ç–∞–º
- [ ] –§–∏–ª—å—Ç—Ä—ã –ø–æ –¥–∞—Ç–µ, –∞–≤—Ç–æ—Ä—É, —Ç–∏–ø—É —Å–æ–æ–±—â–µ–Ω–∏—è
- [ ] Highlight –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
- [ ] –ë—ã—Å—Ç—Ä—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ –Ω–∞–π–¥–µ–Ω–Ω–æ–º—É —Å–æ–æ–±—â–µ–Ω–∏—é

### **6.3 Notifications** ‚è≥
**–í—Ä–µ–º—è:** 2 —á–∞—Å–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π

**–ó–∞–¥–∞—á–∏:**
- [ ] Browser push notifications
- [ ] –ó–≤—É–∫–æ–≤—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (–æ—Ç–∫–ª—é—á–∏—Ç—å/–≤–∫–ª—é—á–∏—Ç—å)
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –¥–ª—è @mentions
- [ ] Badge —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö

### **6.4 Performance Optimization** ‚è≥
**–í—Ä–µ–º—è:** 2 —á–∞—Å–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π

**–ó–∞–¥–∞—á–∏:**
- [ ] –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
- [ ] Lazy loading —á–∞—Ç–æ–≤
- [ ] Debounce –¥–ª—è typing indicators
- [ ] –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ API –∑–∞–ø—Ä–æ—Å–æ–≤
- [ ] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è SignalR reconnection

---

## üìä **–£–°–ü–ï–• –ú–ï–¢–†–ò–ö–ò:**

### **üéØ –û—Å–Ω–æ–≤–Ω—ã–µ KPI:**
- ‚úÖ Real-time —Å–æ–æ–±—â–µ–Ω–∏—è < 100ms –∑–∞–¥–µ—Ä–∂–∫–∞
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 100+ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  
- ‚úÖ 99%+ uptime SignalR —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- ‚úÖ < 2s –∑–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ —á–∞—Ç–æ–≤
- ‚úÖ Mobile-first responsive design

### **üöÄ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ü–µ–ª–∏:**
- üì± PWA —Å offline –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π
- üîä Voice messages
- üìπ Video calls integration
- ü§ñ Bot framework –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- üìà Analytics –∏ –º–µ—Ç—Ä–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

---

## üõ†Ô∏è **–¢–ï–•–ù–ò–ß–ï–°–ö–ò–ô –°–¢–ï–ö:**

### **Backend (.NET 9.0):**
```csharp
- ASP.NET Core Web API
- Entity Framework Core + PostgreSQL  
- SignalR –¥–ª—è real-time
- JWT Authentication + OAuth
- AutoMapper + FluentValidation
- Serilog –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- xUnit –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```

### **Frontend (React + TypeScript):**
```typescript
- React 18 + TypeScript
- Zustand –¥–ª—è state management  
- @microsoft/signalr –¥–ª—è real-time
- Tailwind CSS –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏
- React Router –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- React Query –¥–ª—è API –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
```

---

## ‚ö° **–ë–´–°–¢–†–´–ô –°–¢–ê–†–¢:**

### **–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**

1. **üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç #1:** –ù–∞—á–∞—Ç—å —Å **–≠—Ç–∞–ø–∞ 1.1** - —Å–æ–∑–¥–∞–Ω–∏–µ Domain Models
2. **üì¶ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç—ã:** SignalR, AutoMapper, FluentValidation  
3. **üóÑÔ∏è Database:** –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è Chat, Message, ChatParticipant
4. **üîå SignalR:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑–æ–≤—ã–π ChatHub
5. **üì± Frontend:** –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É chat –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### **–ö–æ–º–∞–Ω–¥—ã –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞–∫–µ—Ç–æ–≤:**
```bash
# Backend packages
dotnet add NebulaChat.API package Microsoft.AspNetCore.SignalR
dotnet add NebulaChat.API package AutoMapper
dotnet add NebulaChat.API package FluentValidation

# Frontend packages  
npm install @microsoft/signalr
npm install @tanstack/react-query
```

---

## üéâ **–†–ï–ó–£–õ–¨–¢–ê–¢:**

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–æ—É–¥–º–∞–ø–∞ —É –Ω–∞—Å –±—É–¥–µ—Ç **–ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —á–∞—Ç —Å–∏—Å—Ç–µ–º–∞** —É—Ä–æ–≤–Ω—è Discord/Slack —Å:

- üí¨ **Real-time messaging** —Å –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–æ–π
- üë• **–ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –∏ –≥—Ä—É–ø–ø–æ–≤—ã–µ —á–∞—Ç—ã** —Å —Ä–æ–ª—è–º–∏  
- üì± **Mobile-responsive UI** —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –¥–∏–∑–∞–π–Ω–æ–º
- üîî **Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –∏ typing indicators
- üìÅ **File sharing** —Å preview –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏
- üîç **–ü–æ–∏—Å–∫ –ø–æ —Å–æ–æ–±—â–µ–Ω–∏—è–º** –∏ –∏—Å—Ç–æ—Ä–∏—è
- üé® **–ü–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π UX** —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏

**–û–±—â–µ–µ –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏: 25-35 —á–∞—Å–æ–≤**  
**MVP –≥–æ—Ç–æ–≤ —á–µ—Ä–µ–∑: 15-20 —á–∞—Å–æ–≤**

---

*üí° –≠—Ç–æ—Ç —Ä–æ—É–¥–º–∞–ø —Å–æ–∑–¥–∞–Ω –Ω–∞ –æ—Å–Ω–æ–≤–µ –≥–ª—É–±–æ–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π backend –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ —Å–ª–µ–¥—É–µ—Ç –ª—É—á—à–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ enterprise —á–∞—Ç —Å–∏—Å—Ç–µ–º.* 

---

## üéâ **–û–ë–©–ò–ô –ü–†–û–ì–†–ï–°–°: 65% (15/23 –∑–∞–¥–∞—á)**

**–°—Ç–∞—Ç—É—Å:** üîÑ –í –†–ê–ó–†–ê–ë–û–¢–ö–ï (file sharing –∑–∞–≤–µ—Ä—à–µ–Ω!)  
**–í—ã–ø–æ–ª–Ω–µ–Ω–æ:** 15 –∏–∑ 23 –∑–∞–¥–∞—á (65% - —ç—Ç–∞–ø 5.3 –ø—Ä–æ–ø—É—â–µ–Ω –ø–æ –ø—Ä–æ—Å—å–±–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)  
**–í—Ä–µ–º—è:** ~18.5 —á–∞—Å–æ–≤ –ø–æ—Ç—Ä–∞—á–µ–Ω–æ –∏–∑ ~25-35 —á–∞—Å–æ–≤ –æ–±—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏

**üîÑ –û–ë–ù–û–í–õ–ï–ù–ò–ï –ö–û–ù–¶–ï–ü–¶–ò–ò:** –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —á–∞—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –≤–∫–ª–∞–¥–æ—á–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π Dashboard/Chat

| –≠—Ç–∞–ø | –°—Ç–∞—Ç—É—Å | –ó–∞–¥–∞—á–∏ | –ü—Ä–æ–≥—Ä–µ—Å—Å |
|------|--------|---------|----------|
| 1.1 Domain Models | ‚úÖ | 1/1 | 100% |
| 1.2 Database Schema Design | ‚úÖ | 1/1 | 100% |
| 1.3 SignalR Integration | ‚úÖ | 1/1 | 100% |
| 1.4 Repository Pattern | ‚úÖ | 1/1 | 100% |
| 2.1 Chat API Controllers | ‚úÖ | 1/1 | 100% |
| 2.2 Message API Controllers | ‚úÖ | 1/1 | 100% |
| 2.3 Real-time Messaging | ‚úÖ | 1/1 | 100% |
| 2.4 DTOs –∏ Validation | ‚úÖ | 1/1 | 100% |
| 3.1 Group Chat Features | ‚úÖ | 5/5 | 100% |
| 3.2 Admin Features | ‚úÖ | 5/5 | 100% |
| 4.1 Full-Featured Chat Interface | ‚úÖ | 4/4 | 100% |
| 4.2 SignalR Client Integration | ‚úÖ | 6/6 | 100% |
| 4.3 Chat State Management | ‚úÖ | 7/7 | 100% |
| 4.4 Message Features | ‚úÖ | 6/6 | 100% |
| 4.5 CORS & Message Persistence Fix | ‚úÖ | 1/1 | 100% |
| 5.1 Message Formatting | ‚úÖ | 5/5 | 100% |
| 5.2 Visual Enhancements | ‚úÖ | 5/5 | 100% |
| 5.3 Mobile Responsive | ‚ùå | 0/5 | –ü—Ä–æ–ø—É—â–µ–Ω |
| 6.1 File Sharing | ‚úÖ | 5/5 | 100% |
| 6.2 Search & History | ‚è≥ | 0/5 | 0% |
| 6.3 Notifications | ‚è≥ | 0/5 | 0% |
| 6.4 Performance Optimization | ‚è≥ | 0/5 | 0% |
| **–ò–¢–û–ì–û** | **üîÑ** | **15/23** | **65%** |

## ‚úÖ **–î–û–°–¢–ò–ñ–ï–ù–ò–Ø:**

### üèóÔ∏è **Backend –≥–æ—Ç–æ–≤ (100%):**
- ‚úÖ **Domain Models** - Chat, Message, ChatParticipant —Å—É—â–Ω–æ—Å—Ç–∏ —Å enum'–∞–º–∏  
- ‚úÖ **Database Schema** - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è, –º–∏–≥—Ä–∞—Ü–∏–∏
- ‚úÖ **SignalR Hub** - Real-time —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, ConnectionMapping, JWT auth
- ‚úÖ **REST API** - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è —á–∞—Ç–æ–≤ –∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ **–ì—Ä—É–ø–ø–æ–≤—ã–µ —á–∞—Ç—ã** - —Ä–æ–ª–∏, –ø—Ä–∞–≤–∞, –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- ‚úÖ **Validation & DTOs** - FluentValidation –∏ AutoMapper –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚úÖ **–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï** - CORS –∫–æ–Ω—Ñ–ª–∏–∫—Ç —Ä–µ—à–µ–Ω, —Å–æ–æ–±—â–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î

### üéØ **Frontend –≥–æ—Ç–æ–≤ (100%):**
- ‚úÖ **Full-Featured Chat Interface** - –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —á–∞—Ç —Å –≤–∫–ª–∞–¥–æ—á–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π
- ‚úÖ **SignalR Integration** - real-time –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π  
- ‚úÖ **State Management** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–∞—Ç–∞–º–∏ –∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ —á–µ—Ä–µ–∑ React Hooks
- ‚úÖ **Message Features** - –æ—Ç–ø—Ä–∞–≤–∫–∞, –ø–æ–ª—É—á–µ–Ω–∏–µ, –∏—Å—Ç–æ—Ä–∏—è, –∞–≤—Ç–æ—Å–∫—Ä–æ–ª–ª
- ‚úÖ **–°—Ç–∞–±–∏–ª—å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–æ—Ä—Ç–∞–º–∏ –∏ CORS

### üéØ **–°–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø:**
**–≠–¢–ê–ü 5: UI/UX POLISH** - —É–ª—É—á—à–µ–Ω–∏–µ –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞

---

*üí° –ß–∞—Ç —Å–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞! –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã, —Å–æ–æ–±—â–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è, real-time —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ. –ì–æ—Ç–æ–≤ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ –ø–æ–ª–∏—Ä–æ–≤–∫–µ UI/UX.*